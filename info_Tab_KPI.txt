Analyse des tables pour le calcul des KPIs du CA OM Maxit

Suite à l'analyse des informations fournies, voici les tables pertinentes pour calculer les KPIs liés à l'évolution du CA OM Maxit, ainsi que leurs caractéristiques détaillées :

Table : daily_souscription

Description : C'est une table journalière qui fournit des informations sur la souscription des offres. Elle contient les informations sur les offres souscrites par les abonnés. Elle comprend l’identifiant unique de l’abonné (msisdn), le nom de l’offre souscrite (offer_name) et sa catégorie (types) comme PASS INTERNET, ILLIMIX, ILLIFLEX, MIXEL, NC, BUNDLES, etc. Les colonnes sous_mnt, ca_data et ca_voix indiquent respectivement le montant ou revenus total généré par les souscriptions (ca_data et ca_voix), la part attribuée à la data (internet) et celle liée à la voix (appels). La colonne sous_cnt précise le nombre de souscriptions enregistrées pour l’offre. Enfin les champs year, month et day représentent la date de la souscription permettant d’analyser l’évolution des offres et des revenus dans le temps. Elle permet de suivre les offres les plus rentables par catégorie, identifier les comportements d’achat récurrents ou impulsifs, segmenter les clients par typologie d’offre souscrite (voix-only, data-only, mixte), etc. Exemple de question : Donnez le CA ILLIFLEX ? Quelle est le CA des offres BUNDLES? Quelle est le CA MIXEL MOIS 1690F ?, Donne moi le CA ILLIMIX JOUR 500F ?, etc. Cette table permet de déterminer le chiffre d'affaire ou revenus généré par types d'offres, par offres, par période, etc.

Caractéristiques :

*   Nom de colonne: msisdn
    *   Description: Identifiant anonymisé de l’abonné
    *   Type: Chaîne
    *   Contexte Marketing – Chiffre d'affaires par offre souscrite: Identifiant anonymisé de l’abonné, utilisé pour suivre les comportements de souscription individuels tout en respectant la confidentialité. Sert à regrouper l’historique des offres souscrites par client.
*   Nom de colonne: offer_name
    *   Description: Nom de l’offre souscrite
    *   Type: Texte
    *   Contexte Marketing – Chiffre d'affaires par offre souscrite: Nom exact de l’offre (ex. : Pass Illimix 1 Go, Pass Data 3 jours). Permet d’identifier les offres les plus populaires ou les plus rentables.
*   Nom de colonne: types
    *   Description: Catégorie ou type d’offre (internet, illimix, etc.)
    *   Type: Texte
    *   Contexte Marketing – Chiffre d'affaires par offre souscrite: Catégorie de l’offre (Internet seul, Illimix, Internatonal, etc.), utilisée pour segmenter le catalogue produit et comparer les performances selon les grandes familles (data vs voix).
*   Nom de colonne: sous_mnt
    *   Description: Montant total de la souscription en F CFA (data +voix)
    *   Type: Numérique
    *   Contexte Marketing – Chiffre d'affaires par offre souscrite: Montant payé par le client pour la souscription. Sert à analyser les paniers moyens, le positionnement tarifaire des offres, et mesurer l’élasticité au prix.
*   Nom de colonne: ca_data
    *   Description: Chiffre d'affaires généré par la data (internet)
    *   Type: Numérique
    *   Contexte Marketing – Chiffre d'affaires par offre souscrite: Chiffre d’affaires généré par l’usage data (internet) pour cette offre. Indicateur clé pour les produits orientés Internet (Pass Data, Illimix, etc.), permet de mesurer la contribution au revenu data global.
*   Nom de colonne: ca_voix
    *   Description: Chiffre d'affaires généré par la voix (appels)
    *   Type: Numérique
    *   Contexte Marketing – Chiffre d'affaires par offre souscrite: Chiffre d’affaires généré par la voix (appels), utile pour les offres combinées (Illimix, Pass voix) ou pour analyser le comportement des clients axés téléphonie.
*   Nom de colonne: sous_cnt
    *   Description: Nombre de souscriptions effectuées
    *   Type: Numérique
    *   Contexte Marketing – Chiffre d'affaires par offre souscrite: Nombre de fois que l’offre a été souscrite (par le même client ou en cumulé). Indicateur d’adoption, de fidélité ou de popularité de l’offre. Utile pour distinguer les offres ponctuelles des offres récurrentes.
*   Nom de colonne: year
    *   Description: Année de la souscription
    *   Type: Numérique
    *   Contexte Marketing – Chiffre d'affaires par offre souscrite: Année de souscription, pour les analyses de tendance, les évolutions post-ajustement tarifaire, ou les impacts des campagnes produit annuelles.
*   Nom de colonne: month
    *   Description: Mois de la souscription
    *   Type: Numérique
    *   Contexte Marketing – Chiffre d'affaires par offre souscrite: Mois de souscription. Sert à détecter les saisonnalités d’achat, mesurer les effets d’une campagne ou d’un événement promotionnel, ou piloter les ventes mensuelles.
*   Nom de colonne: day
    *   Description: Date complète (AAAAMMJJ) de la souscription
    *   Type: Numérique
    *   Contexte Marketing – Chiffre d'affaires par offre souscrite: Date précise (AAAAMMJJ) de souscription. Permet des analyses journalières, le croisement avec des événements (push, promo, incident), et le suivi en temps réel des performances produit.

Table : reporting_monthly_maxit

Description : Cette table fait le reporting mensuel des données issues de l'application mobile Maxit qui est mise en place par la SONATEL pour donner des services digital à ses clients.Autrement dit, elle contient des données transactionnelles et opérationnelles liées aux services télécoms et financiers, organisées par date et heure de chargement (DATE_LOADED). Elle est structuré à l’échelle agrégée par mois, par fonctionnalité, par segment et par commune. La colonne DATE_LOADED indique la date et l’heure de chargement des souscription. segment_marche identifie la catégorie de clients tels que JEUNES, ENTRANT, HAUT DE MARCHE, KIRENE AVEC ORANGE, etc. La colonne formule_dmgp correspond à l’offre ou au produit souscrit, par exemple JAMONO MAX, JAMONO NEW S'COOL, etc. ca_cr_commune renseigne la localisation géographique (commune) des clients fonctionnalite décrit le type d’opération effectuée telle qu’un Achat Crédit, Paiement facture CANAL, Conversion Point Sargal, etc. La colonne categorie précise la famille de service : Telco (télécommunication), OM (Orange Money), Eshop, ou Self Care. Ensuite, mnt_transaction indique le montant total des transactions réalisées, tandis que nb_events représente le nombre d’événements ou opérations enregistrées et nb_subs correspond au nombre unique d’abonnés impliqués. Enfin, year et month permettent un suivi temporel des activités.

Caractéristiques :

*   Nom de la colonne: DATE_LOADED
    *   Type: DateTime
    *   Description: Date et heure de chargement de la donnée dans le système.
    *   Contexte métier / Utilité pour LLM & RAG: Permet de vérifier la fraîcheur des données ; utilisée pour des analyses techniques ou des contrôles de pipeline, non comme dimension métier.
*   Nom de la colonne: segment_marche
    *   Type: String
    *   Description: Profil marketing du client (ex. JEUNES, ENTRANT, AUTRES…).
    *   Contexte métier / Utilité pour LLM & RAG: Utilisé pour filtrer ou regrouper les comportements selon les cibles commerciales ou sociocomportementales.
*   Nom de la colonne: formule_dmgp
    *   Type: String
    *   Description: Nom de la formule tarifaire ou de l’offre souscrite (ex. JAMONO ALLO, JAMONO MAX…).
    *   Contexte métier / Utilité pour LLM & RAG: Sert à analyser la performance et la répartition des offres commerciales dans les usages digitaux.
*   Nom de la colonne: ca_cr_commune
    *   Type: String
    *   Description: Commune principale d’activité ou de résidence du client.
    *   Contexte métier / Utilité pour LLM & RAG: Permet les analyses géographiques des usages ou services digitaux, et les comparaisons entre zones.
*   Nom de la colonne: fonctionnalite
    *   Type: String
    *   Description: Nom ou description de la fonctionnalité digitale utilisée (ex : Paiement facture, Conversion points...).
    *   Contexte métier / Utilité pour LLM & RAG: Indique l'action réalisée par le client ; clé pour comprendre le parcours ou le comportement digital précis.
*   Nom de la colonne: categorie
    *   Type: String
    *   Description: Catégorie fonctionnelle du service utilisé (ex : Telco, OM, Eshop, Self Care…).
    *   Contexte métier / Utilité pour LLM & RAG: Permet de regrouper les fonctionnalités similaires pour des analyses agrégées de typologie d'usage.
*   Nom de la colonne: mnt_transaction
    *   Type: Float
    *   Description: Montant total des transactions effectuées sur cette ligne.
    *   Contexte métier / Utilité pour LLM & RAG: Utilisé pour mesurer la valeur monétaire générée par fonctionnalité ou par segment ; sert aux analyses de CA.
*   Nom de la colonne: nb_events
    *   Type: Float
    *   Description: Nombre total d'événements (clics, actions, transactions) liés à la fonctionnalité.
    *   Contexte métier / Utilité pour LLM & RAG: Mesure l'intensité d'utilisation d'une fonctionnalité ; utile pour le ranking ou le scoring d’usage.
*   Nom de la colonne: nb_subs
    *   Type: Integer
    *   Description: Nombre d’abonnés uniques ayant utilisé cette fonctionnalité.
    *   Contexte métier / Utilité pour LLM & RAG: Mesure la pénétration d'une fonctionnalité auprès des clients ; essentiel pour le taux d’adoption.
*   Nom de la colonne: year
    *   Type: Integer
    *   Description: Année d’observation de l’événement.
    *   Contexte métier / Utilité pour LLM & RAG: Utilisée pour les analyses temporelles annuelles ou les comparaisons historiques (YoY).
*   Nom de la colonne: month
    *   Type: Integer
    *   Description: Mois d’observation de l’événement.
    *   Contexte métier / Utilité pour LLM & RAG: Permet les analyses mensuelles de tendance ou de saisonnalité.

Création de requêtes SQL pour calculer les KPIs

Voici une explication sur la manière de créer des requêtes SQL pour calculer les KPIs mentionnés, en utilisant les tables identifiées :

CA Data :

Pour calculer le CA Data mensuel, vous pouvez utiliser la table daily_souscription et agréger les données par mois et par type d'offre (en filtrant sur les offres de données) :

SQL

SELECT
    year,
    month,
    SUM(ca_data) AS total_ca_data
FROM
    daily_souscription
WHERE
    types = 'PASS INTERNET' -- ou autre type d'offre data
GROUP BY
    year,
    month
ORDER BY
    year,
    month;

Parc Bundle :

Pour calculer le nombre de clients ayant souscrit à des offres BUNDLE, vous pouvez utiliser la table daily_souscription et compter le nombre d'abonnés uniques par mois :

SQL

SELECT
    year,
    month,
    COUNT(DISTINCT msisdn) AS total_parc_bundle
FROM
    daily_souscription
WHERE
    types = 'BUNDLES'
GROUP BY
    year,
    month
ORDER BY
    year,
    month;

Parc Pass :

Pour calculer le nombre de clients ayant souscrit à des PASS, vous pouvez utiliser la table daily_souscription et compter le nombre d'abonnés uniques par mois :

SQL

SELECT
    year,
    month,
    COUNT(DISTINCT msisdn) AS total_parc_pass
FROM
    daily_souscription
WHERE
    types = 'PASS INTERNET' -- ou autre type de pass
GROUP BY
    year,
    month
ORDER BY
    year,
    month;

Montant PASS :

Pour calculer le montant total des souscriptions PASS, vous pouvez utiliser la table daily_souscription et agréger les montants par mois :

SQL

SELECT
    year,
    month,
    SUM(sous_mnt) AS total_montant_pass
FROM
    daily_souscription
WHERE
    types = 'PASS INTERNET' -- ou autre type de pass
GROUP BY
    year,
    month
ORDER BY
    year,
    month;

Pour affiner l'analyse, vous pouvez croiser ces requêtes avec la table reporting_monthly_maxit pour segmenter les résultats par segment de marché, formule tarifaire, ou commune.